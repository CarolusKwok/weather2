Line1 = read_lines(URL)
Line2 = Line1 %>%
as_tibble() %>%
mutate(filter = grepl("<TD>", value) | grepl("<TH>", value) ) %>%
filter(filter == T) %>%
mutate(value = str_remove(string = .$value, pattern =  "<TR>")) %>%
mutate(value = str_replace_all(string = .$value, pattern = "<TD>", replacement =" ")) %>%
mutate(value = str_replace_all(string = .$value, pattern = '</TD>', replacement =" ")) %>%
mutate(value = str_remove(string = .$value, pattern =  "</TR>")) %>%
mutate(filter = grepl("<TH>", value)) %>%
mutate(value = str_replace_all(string = .$value, pattern = '<TH>', replacement =" ")) %>%
mutate(value = str_replace_all(string = .$value, pattern = '</TH>', replacement =" ")) %>%
mutate(value= str_remove(string = .$value, pattern =  "&nbsp;")) %>%
filter(filter == F) %>%
bind_rows(tibble(value = " MM  DD    01  02  03  04  05  06  07  08  09  10  11  12  13  14  15  16  17  18  19  20  21  22  23  24 "), .)
Data1 = read_table(file = I(Line2$value)) %>%
select(-X27) %>%
pivot_longer(cols = -c("MM", "DD"), names_to = "hh", values_to = "height") %>%
mutate(time = ISOdatetime(year, MM, DD, hh, 00, 00, tz = "HongKong")) %>%
select(time, height) %>%
arrange(time) %>%
distinct()
Line1 = read_lines(URL2)
Line2 = Line1 %>%
as_tibble() %>%
mutate(filter = grepl("<TD>", value) | grepl("<TH>", value) ) %>%
filter(filter == T) %>%
mutate(value = str_remove(string = .$value, pattern =  "<TR>")) %>%
mutate(value = str_replace_all(string = .$value, pattern = "<TD>", replacement =" ")) %>%
mutate(value = str_replace_all(string = .$value, pattern = '</TD>', replacement =" ")) %>%
mutate(value = str_remove_all(string = .$value, pattern =  "</TR>")) %>%
mutate(value = str_remove_all(string = .$value, pattern = "nbsp")) %>%
mutate(value = str_remove_all(string = .$value, pattern = ";")) %>%
mutate(value = str_remove_all(string = .$value, pattern = "&")) %>%
mutate(filter = !(str_length(value) > 80)) %>%
filter(filter == T) %>%
bind_rows(tibble(value = "MM DD t1 h1 t2 h2 t3 h3 t4 h4"), .)
Data2 = read_table(I(Line2$value)) %>%
mutate(hh1 = substr(t1, 1, 2),
mm1 = substr(t1, 3, 4),
hh2 = substr(t2, 1, 2),
mm2 = substr(t2, 3, 4),
hh3 = substr(t3, 1, 2),
mm3 = substr(t3, 3, 4),
hh4 = substr(t4, 1, 2),
mm4 = substr(t4, 3, 4),
time1 = ISOdatetime(year, MM, DD, hh1, mm1, 00, tz = "HongKong"),
time2 = ISOdatetime(year, MM, DD, hh2, mm2, 00, tz = "HongKong"),
time3 = ISOdatetime(year, MM, DD, hh3, mm3, 00, tz = "HongKong"),
time4 = ISOdatetime(year, MM, DD, hh4, mm4, 00, tz = "HongKong")) %>%
select(time1, time2, time3, time4,
h1, h2, h3, h4)
Data3 = tibble(time   = Data2$time1,
height = Data2$h1) %>%
bind_rows(tibble(time   = Data2$time2,
height = Data2$h2)) %>%
bind_rows(tibble(time   = Data2$time3,
height = Data2$h3)) %>%
bind_rows(tibble(time   = Data2$time4,
height = Data2$h4)) %>%
arrange(time) %>%
distinct()
Data4 = bind_rows(Data1, Data3) %>%
distinct() %>%
arrange(time) %>%
mutate(station = station,
type = "tide_predict") %>%
relocate(station, type, .before = everything()) %>%
drop_na()
write_csv(x = Data4, file = paste0(station, "_", year, ".csv"))
}
#Start Running ####
data = tidyr::crossing(station, year) %>%
dplyr::mutate(URL1 = paste0("https://www.hko.gov.hk/tide/e",
station, "text", sprintf("%04d", year), ".html"),
URL2 = paste0("https://www.hko.gov.hk/tide/",
"CLK", "textPH", "2022", ".htm")) %>%
tidyr::pivot_longer(cols = c("URL1", "URL2"), names_to = "name", values_to = "URL")
return(data)
}
hk_load_tide_predict(station_list, c(2022))
method1 = function(URL, URL2){
Line1 = read_lines(URL)
num1 = match("<TABLE cellSpacing=5 cellPadding=5 width=\"100%\" align=center border=0>", Line1)
num2 = match('<DIV id=wcag_logo_area>', Line1)
Line2 = Line1[(num1+5):(num2-8)]
Line3 = as.data.frame(Line2) %>%
mutate(filter = (grepl("_", Line2) | grepl("Date", Line2) | Line2 == "")) %>%
filter(filter == F)
Data1 = read_table(I(Line3$Line2)) %>%
filter(MM != "MM") %>%
select(-X27) %>%
mutate(YYYY = year) %>%
relocate(YYYY, .before = everything()) %>%
lapply(as.numeric) %>%
as_tibble() %>%
pivot_longer(cols = -c("YYYY", "MM", "DD")) %>%
mutate(time = ISOdatetime(YYYY, MM, DD, name, 00, 00, tz = "HongKong")) %>%
rename(height = value) %>%
select(time, height)
Line1 = read_lines(URL2)
num1 = match("<TABLE cellSpacing=5 cellPadding=5 width=\"100%\" align=center border=0>", Line1)
num2 = match('<DIV id=wcag_logo_area>', Line1)
Line2 = Line1[(num1+5):(num2-7)]
Line3 = as.data.frame(Line2) %>%
mutate(filter = (grepl("_", Line2) | grepl("Date", Line2) | Line2 == "")) %>%
filter(filter == F)
Data2 = tibble(YYYY = year,
MM = substr(Line3$Line2,  1, 2) %>% as.numeric(),
DD = substr(Line3$Line2,  5, 6) %>% as.numeric(),
hh1 = substr(Line3$Line2, 12,13) %>% as.numeric(),
mm1 = substr(Line3$Line2, 14,15) %>% as.numeric(),
height1 = substr(Line3$Line2, 16,25) %>% as.numeric(),
hh2 = substr(Line3$Line2, 28, 29) %>% as.numeric(),
mm2 = substr(Line3$Line2, 30, 31) %>% as.numeric(),
height2 = substr(Line3$Line2, 35,38) %>% as.numeric(),
hh3 = substr(Line3$Line2, 44, 45) %>% as.numeric(),
mm3 = substr(Line3$Line2, 46, 47) %>% as.numeric(),
height3 = substr(Line3$Line2, 51,54) %>% as.numeric(),
hh4 = substr(Line3$Line2, 60, 61) %>% as.numeric(),
mm4 = substr(Line3$Line2, 62, 63) %>% as.numeric(),
height4 = substr(Line3$Line2, 64,999) %>% as.numeric()) %>%
mutate(time1 = ISOdatetime(YYYY, MM, DD, hh1, mm1, 00, tz = "HongKong"),
time2 = ISOdatetime(YYYY, MM, DD, hh2, mm2, 00, tz = "HongKong"),
time3 = ISOdatetime(YYYY, MM, DD, hh3, mm3, 00, tz = "HongKong"),
time4 = ISOdatetime(YYYY, MM, DD, hh4, mm4, 00, tz = "HongKong")) %>%
select(-c(YYYY, MM, DD, hh1, mm1, hh2, mm2, hh3, mm3, hh4, mm4))
Data3 = tibble(time   = Data2$time1,
height = Data2$height1) %>%
bind_rows(tibble(time   = Data2$time2,
height = Data2$height2)) %>%
bind_rows(tibble(time   = Data2$time3,
height = Data2$height3)) %>%
bind_rows(tibble(time   = Data2$time4,
height = Data2$height4)) %>%
arrange(time) %>%
distinct()
Data4 = bind_rows(Data1, Data3) %>%
distinct() %>%
arrange(time) %>%
mutate(station = station,
type = "tide_predict") %>%
relocate(station, type, .before = everything()) %>%
drop_na()
write_csv(x = Data4, file = paste0(station, "_", year, ".csv"))
#          #         #         #        #         #          #
# MM  DD     hhmm   HHHH     hhmm   HHHH     hhmm   HHHH     hhmm   HHHH
#01234567890123456789012345678901234567890123456789012345678901234567890
#"12  30     0425   0.53     1123   1.52     1516   1.24     2125   2.44"
}
method1("https://www.hko.gov.hk/tide/eCLKtext2015.html")
readLines()
?read_lines
??read_lines
is.integer(as.integer("afsaf"))
is.integer(as.integer("afsaf"))
library(weather2)
usethis::use_r("hk_dict_tide")
hk_dict_tide = function(){
data = tibble::tibble(station = c("CLK", "CCH", "CMW", "KLW", "KCT",
"LOP", "MWC", "QUB", "SPW", "TMW",
"TAO", "TPK", "TBT", "WAG"))
return(data)
}
hk_dict_tide
hk_dict_tide()
hk_dict_tide = function(){
data = tibble::tibble(station = c("CLK", "CCH", "CMW", "KLW", "KCT",
"LOP", "MWC", "QUB", "SPW", "TMW",
"TAO", "TPK", "TBT", "WAG"),
full_name = c("Chek Lap Kok (E)", "Cheung Chau",    "Chi Ma Wan",    "Ko Lau Wan", "Kwai Chung",
"Lok On Pai",      "Ma Wan",    "Quarry Bay",      "Shek Pik", "Tai Miu Wan",
"Tai O",  "Tai Po Kau", "Tsim Bei Tsui", "Waglan Island"))
return(data)
}
hk_dict_tide()
hk_dict_tide = function(){
data = tibble::tibble(station = c("CLK", "CCH", "CMW", "KLW", "KCT",
"LOP", "MWC", "QUB", "SPW", "TMW",
"TAO", "TPK", "TBT", "WAG"),
full_name = c("Chek Lap Kok (E)", "Cheung Chau",    "Chi Ma Wan",    "Ko Lau Wan", "Kwai Chung",
"Lok On Pai",      "Ma Wan",    "Quarry Bay",      "Shek Pik", "Tai Miu Wan",
"Tai O",  "Tai Po Kau", "Tsim Bei Tsui", "Waglan Island"))
return(data)
}
hk_dict_tide()
data = tibble::tibble(CLK = c("Chek Lap Kok (E)", 113.9452778, 22.3205556),
CCH = c(     "Cheung Chau", 114.0230556, 22.2141667000001),
CMW = c(      "Chi Ma Wan", 113.9999115, 22.239581),
KLW = c(),
KCT = c(),
LOP = c(),
MWC = c(),
QUB = c(),
SPW = c(),
TMW = c(),
TAO = c(),
TPK = c(),
TBT = c(),
WAG = c())
View(data)
data = tibble::tibble(CLK = c("Chek Lap Kok (E)", 113.9452778, 22.3205556),
CCH = c(     "Cheung Chau", 114.0230556, 22.2141667),
CMW = c(      "Chi Ma Wan", 113.9999115, 22.2395810),
KLW = c(      "Ko Lau Wan", 114.3608333, 22.4586111),
KCT = c(      "Kwai Chung", 114.1227778, 22.3236111),
LOP = c(      "Lok On Pai", 114.0016415, 22.3614868),
MWC = c(          "Ma Wan", 114.0713889, 22.3638889),
QUB = c(      "Quarry Bay", 114.2133333, 22.2911111),
SPW = c(        "Shek Pik", 113.8944444, 22.2202778),
TMW = c(     "Tai Miu Wan", 114.2886111, 22.2697222),
TAO = c(           "Tai O", 113.8655556, 22.2550000),
TPK = c(      "Tai Po Kau", 114.1838889, 22.4425000),
TBT = c(   "Tsim Bei Tsui", 114.0141667, 22.4872222),
WAG = c(   "Waglan Island", 114.3027778, 22.1830556))
data
t(data)
t(data) %>% as_tibble()
library(magrittr)
data = tibble::tibble(CLK = c("Chek Lap Kok (E)", 113.9452778, 22.3205556),
CCH = c(     "Cheung Chau", 114.0230556, 22.2141667),
CMW = c(      "Chi Ma Wan", 113.9999115, 22.2395810),
KLW = c(      "Ko Lau Wan", 114.3608333, 22.4586111),
KCT = c(      "Kwai Chung", 114.1227778, 22.3236111),
LOP = c(      "Lok On Pai", 114.0016415, 22.3614868),
MWC = c(          "Ma Wan", 114.0713889, 22.3638889),
QUB = c(      "Quarry Bay", 114.2133333, 22.2911111),
SPW = c(        "Shek Pik", 113.8944444, 22.2202778),
TMW = c(     "Tai Miu Wan", 114.2886111, 22.2697222),
TAO = c(           "Tai O", 113.8655556, 22.2550000),
TPK = c(      "Tai Po Kau", 114.1838889, 22.4425000),
TBT = c(   "Tsim Bei Tsui", 114.0141667, 22.4872222),
WAG = c(   "Waglan Island", 114.3027778, 22.1830556))
t(data) %>% as_tibble()
t(data) %>% tibble::as_tibble()
hk_dict_tide = function(){
data = tibble::tibble(CLK = c("Chek Lap Kok (E)", 113.9452778, 22.3205556),
CCH = c(     "Cheung Chau", 114.0230556, 22.2141667),
CMW = c(      "Chi Ma Wan", 113.9999115, 22.2395810),
KLW = c(      "Ko Lau Wan", 114.3608333, 22.4586111),
KCT = c(      "Kwai Chung", 114.1227778, 22.3236111),
LOP = c(      "Lok On Pai", 114.0016415, 22.3614868),
MWC = c(          "Ma Wan", 114.0713889, 22.3638889),
QUB = c(      "Quarry Bay", 114.2133333, 22.2911111),
SPW = c(        "Shek Pik", 113.8944444, 22.2202778),
TMW = c(     "Tai Miu Wan", 114.2886111, 22.2697222),
TAO = c(           "Tai O", 113.8655556, 22.2550000),
TPK = c(      "Tai Po Kau", 114.1838889, 22.4425000),
TBT = c(   "Tsim Bei Tsui", 114.0141667, 22.4872222),
WAG = c(   "Waglan Island", 114.3027778, 22.1830556))
data2 = t(data)
return(data2)
}
hk_dict_tide()
hk_dict_tide = function(){
data = tibble::tibble(CLK = c("Chek Lap Kok (E)", 113.9452778, 22.3205556),
CCH = c(     "Cheung Chau", 114.0230556, 22.2141667),
CMW = c(      "Chi Ma Wan", 113.9999115, 22.2395810),
KLW = c(      "Ko Lau Wan", 114.3608333, 22.4586111),
KCT = c(      "Kwai Chung", 114.1227778, 22.3236111),
LOP = c(      "Lok On Pai", 114.0016415, 22.3614868),
MWC = c(          "Ma Wan", 114.0713889, 22.3638889),
QUB = c(      "Quarry Bay", 114.2133333, 22.2911111),
SPW = c(        "Shek Pik", 113.8944444, 22.2202778),
TMW = c(     "Tai Miu Wan", 114.2886111, 22.2697222),
TAO = c(           "Tai O", 113.8655556, 22.2550000),
TPK = c(      "Tai Po Kau", 114.1838889, 22.4425000),
TBT = c(   "Tsim Bei Tsui", 114.0141667, 22.4872222),
WAG = c(   "Waglan Island", 114.3027778, 22.1830556))
data2 = t(data) %>% as.data.frame()
return(data2)
}
hk_dict_tide()
hk_dict_tide = function(){
data = tibble::tibble(CLK = c("Chek Lap Kok (E)", 113.9452778, 22.3205556),
CCH = c(     "Cheung Chau", 114.0230556, 22.2141667),
CMW = c(      "Chi Ma Wan", 113.9999115, 22.2395810),
KLW = c(      "Ko Lau Wan", 114.3608333, 22.4586111),
KCT = c(      "Kwai Chung", 114.1227778, 22.3236111),
LOP = c(      "Lok On Pai", 114.0016415, 22.3614868),
MWC = c(          "Ma Wan", 114.0713889, 22.3638889),
QUB = c(      "Quarry Bay", 114.2133333, 22.2911111),
SPW = c(        "Shek Pik", 113.8944444, 22.2202778),
TMW = c(     "Tai Miu Wan", 114.2886111, 22.2697222),
TAO = c(           "Tai O", 113.8655556, 22.2550000),
TPK = c(      "Tai Po Kau", 114.1838889, 22.4425000),
TBT = c(   "Tsim Bei Tsui", 114.0141667, 22.4872222),
WAG = c(   "Waglan Island", 114.3027778, 22.1830556))
data2 = t(data) %>%
tibble::as_tibble() %>%
dplyr::mutate(name = rownames(.))
return(data2)
}
hk_dict_tide()
hk_dict_tide = function(){
data = tibble::tibble(CLK = c("Chek Lap Kok (E)", 113.9452778, 22.3205556),
CCH = c(     "Cheung Chau", 114.0230556, 22.2141667),
CMW = c(      "Chi Ma Wan", 113.9999115, 22.2395810),
KLW = c(      "Ko Lau Wan", 114.3608333, 22.4586111),
KCT = c(      "Kwai Chung", 114.1227778, 22.3236111),
LOP = c(      "Lok On Pai", 114.0016415, 22.3614868),
MWC = c(          "Ma Wan", 114.0713889, 22.3638889),
QUB = c(      "Quarry Bay", 114.2133333, 22.2911111),
SPW = c(        "Shek Pik", 113.8944444, 22.2202778),
TMW = c(     "Tai Miu Wan", 114.2886111, 22.2697222),
TAO = c(           "Tai O", 113.8655556, 22.2550000),
TPK = c(      "Tai Po Kau", 114.1838889, 22.4425000),
TBT = c(   "Tsim Bei Tsui", 114.0141667, 22.4872222),
WAG = c(   "Waglan Island", 114.3027778, 22.1830556))
data2 = t(data) %>%
as.data.frame() %>%
dplyr::mutate(name = rownames(.))
return(data2)
}
hk_dict_tide()
hk_dict_tide = function(){
data = tibble::tibble(CLK = c("Chek Lap Kok (E)", 113.9452778, 22.3205556),
CCH = c(     "Cheung Chau", 114.0230556, 22.2141667),
CMW = c(      "Chi Ma Wan", 113.9999115, 22.2395810),
KLW = c(      "Ko Lau Wan", 114.3608333, 22.4586111),
KCT = c(      "Kwai Chung", 114.1227778, 22.3236111),
LOP = c(      "Lok On Pai", 114.0016415, 22.3614868),
MWC = c(          "Ma Wan", 114.0713889, 22.3638889),
QUB = c(      "Quarry Bay", 114.2133333, 22.2911111),
SPW = c(        "Shek Pik", 113.8944444, 22.2202778),
TMW = c(     "Tai Miu Wan", 114.2886111, 22.2697222),
TAO = c(           "Tai O", 113.8655556, 22.2550000),
TPK = c(      "Tai Po Kau", 114.1838889, 22.4425000),
TBT = c(   "Tsim Bei Tsui", 114.0141667, 22.4872222),
WAG = c(   "Waglan Island", 114.3027778, 22.1830556))
data2 = t(data) %>%
as.data.frame() %>%
dplyr::mutate(name = rownames(.)) %>%
dplyr::rename(full_name = V1,
Lon = V2,
Lat = V3)
return(data2)
}
hk_dict_tide()
hk_dict_tide = function(){
data = tibble::tibble(CLK = c("Chek Lap Kok (E)", 113.9452778, 22.3205556),
CCH = c(     "Cheung Chau", 114.0230556, 22.2141667),
CMW = c(      "Chi Ma Wan", 113.9999115, 22.2395810),
KLW = c(      "Ko Lau Wan", 114.3608333, 22.4586111),
KCT = c(      "Kwai Chung", 114.1227778, 22.3236111),
LOP = c(      "Lok On Pai", 114.0016415, 22.3614868),
MWC = c(          "Ma Wan", 114.0713889, 22.3638889),
QUB = c(      "Quarry Bay", 114.2133333, 22.2911111),
SPW = c(        "Shek Pik", 113.8944444, 22.2202778),
TMW = c(     "Tai Miu Wan", 114.2886111, 22.2697222),
TAO = c(           "Tai O", 113.8655556, 22.2550000),
TPK = c(      "Tai Po Kau", 114.1838889, 22.4425000),
TBT = c(   "Tsim Bei Tsui", 114.0141667, 22.4872222),
WAG = c(   "Waglan Island", 114.3027778, 22.1830556))
data2 = t(data) %>%
as.data.frame() %>%
dplyr::mutate(name = rownames(.)) %>%
dplyr::rename(full_name = V1,
Lon = V2,
Lat = V3) %>%
tibble::as_tibble()
return(data2)
}
hk_dict_tide()
hk_dict_tide = function(){
data = tibble::tibble(CLK = c("Chek Lap Kok (E)", 113.9452778, 22.3205556),
CCH = c(     "Cheung Chau", 114.0230556, 22.2141667),
CMW = c(      "Chi Ma Wan", 113.9999115, 22.2395810),
KLW = c(      "Ko Lau Wan", 114.3608333, 22.4586111),
KCT = c(      "Kwai Chung", 114.1227778, 22.3236111),
LOP = c(      "Lok On Pai", 114.0016415, 22.3614868),
MWC = c(          "Ma Wan", 114.0713889, 22.3638889),
QUB = c(      "Quarry Bay", 114.2133333, 22.2911111),
SPW = c(        "Shek Pik", 113.8944444, 22.2202778),
TMW = c(     "Tai Miu Wan", 114.2886111, 22.2697222),
TAO = c(           "Tai O", 113.8655556, 22.2550000),
TPK = c(      "Tai Po Kau", 114.1838889, 22.4425000),
TBT = c(   "Tsim Bei Tsui", 114.0141667, 22.4872222),
WAG = c(   "Waglan Island", 114.3027778, 22.1830556))
data2 = t(data) %>%
as.data.frame() %>%
dplyr::mutate(name = rownames(.)) %>%
dplyr::rename(full_name = V1,
Lon = V2,
Lat = V3) %>%
tibble::as_tibble() %>%
dplyr::relocate(name, full_name, Lon, Lat)
return(data2)
}
hk_dict_tide()
hk_dict_tide = function(){
data = tibble::tibble(CLK = c("Chek Lap Kok (E)", 113.9452778, 22.3205556),
CCH = c(     "Cheung Chau", 114.0230556, 22.2141667),
CMW = c(      "Chi Ma Wan", 113.9999115, 22.2395810),
KLW = c(      "Ko Lau Wan", 114.3608333, 22.4586111),
KCT = c(      "Kwai Chung", 114.1227778, 22.3236111),
LOP = c(      "Lok On Pai", 114.0016415, 22.3614868),
MWC = c(          "Ma Wan", 114.0713889, 22.3638889),
QUB = c(      "Quarry Bay", 114.2133333, 22.2911111),
SPW = c(        "Shek Pik", 113.8944444, 22.2202778),
TMW = c(     "Tai Miu Wan", 114.2886111, 22.2697222),
TAO = c(           "Tai O", 113.8655556, 22.2550000),
TPK = c(      "Tai Po Kau", 114.1838889, 22.4425000),
TBT = c(   "Tsim Bei Tsui", 114.0141667, 22.4872222),
WAG = c(   "Waglan Island", 114.3027778, 22.1830556))
data2 = t(data) %>%
as.data.frame() %>%
dplyr::mutate(name = rownames(.)) %>%
dplyr::rename(full_name = V1,
Lon = V2,
Lat = V3) %>%
tibble::as_tibble() %>%
dplyr::relocate(name, full_name, Lon, Lat)
return(data2)
}
hk_dict_tide()
hk_dict_tide = function(){
data = tibble::tibble(CLK = c("Chek Lap Kok (E)", 113.9452778, 22.3205556),
CCH = c(     "Cheung Chau", 114.0230556, 22.2141667),
CMW = c(      "Chi Ma Wan", 113.9999115, 22.2395810),
KLW = c(      "Ko Lau Wan", 114.3608333, 22.4586111),
KCT = c(      "Kwai Chung", 114.1227778, 22.3236111),
LOP = c(      "Lok On Pai", 114.0016415, 22.3614868),
MWC = c(          "Ma Wan", 114.0713889, 22.3638889),
QUB = c(      "Quarry Bay", 114.2133333, 22.2911111),
SPW = c(        "Shek Pik", 113.8944444, 22.2202778),
TMW = c(     "Tai Miu Wan", 114.2886111, 22.2697222),
TAO = c(           "Tai O", 113.8655556, 22.2550000),
TPK = c(      "Tai Po Kau", 114.1838889, 22.4425000),
TBT = c(   "Tsim Bei Tsui", 114.0141667, 22.4872222),
WAG = c(   "Waglan Island", 114.3027778, 22.1830556))
data2 = t(data) %>%
as.data.frame() %>%
dplyr::mutate(name = rownames(.)) %>%
dplyr::rename(full_name = V1,
Lon = V2,
Lat = V3) %>%
tibble::as_tibble() %>%
mutate(Lon = as.numeric(Lon),
Lat = as.numeric(Lat))
dplyr::relocate(name, full_name, Lon, Lat)
return(data2)
}
hk_dict_tide()
hk_dict_tide = function(){
data = tibble::tibble(CLK = c("Chek Lap Kok (E)", 113.9452778, 22.3205556),
CCH = c(     "Cheung Chau", 114.0230556, 22.2141667),
CMW = c(      "Chi Ma Wan", 113.9999115, 22.2395810),
KLW = c(      "Ko Lau Wan", 114.3608333, 22.4586111),
KCT = c(      "Kwai Chung", 114.1227778, 22.3236111),
LOP = c(      "Lok On Pai", 114.0016415, 22.3614868),
MWC = c(          "Ma Wan", 114.0713889, 22.3638889),
QUB = c(      "Quarry Bay", 114.2133333, 22.2911111),
SPW = c(        "Shek Pik", 113.8944444, 22.2202778),
TMW = c(     "Tai Miu Wan", 114.2886111, 22.2697222),
TAO = c(           "Tai O", 113.8655556, 22.2550000),
TPK = c(      "Tai Po Kau", 114.1838889, 22.4425000),
TBT = c(   "Tsim Bei Tsui", 114.0141667, 22.4872222),
WAG = c(   "Waglan Island", 114.3027778, 22.1830556))
data2 = t(data) %>%
as.data.frame() %>%
dplyr::mutate(name = rownames(.)) %>%
dplyr::rename(full_name = V1,
Lon = V2,
Lat = V3) %>%
tibble::as_tibble() %>%
dplyr::mutate(Lon = as.numeric(Lon),
Lat = as.numeric(Lat))
dplyr::relocate(name, full_name, Lon, Lat)
return(data2)
}
hk_dict_tide()
hk_dict_tide = function(){
data = tibble::tibble(CLK = c("Chek Lap Kok (E)", 113.9452778, 22.3205556),
CCH = c(     "Cheung Chau", 114.0230556, 22.2141667),
CMW = c(      "Chi Ma Wan", 113.9999115, 22.2395810),
KLW = c(      "Ko Lau Wan", 114.3608333, 22.4586111),
KCT = c(      "Kwai Chung", 114.1227778, 22.3236111),
LOP = c(      "Lok On Pai", 114.0016415, 22.3614868),
MWC = c(          "Ma Wan", 114.0713889, 22.3638889),
QUB = c(      "Quarry Bay", 114.2133333, 22.2911111),
SPW = c(        "Shek Pik", 113.8944444, 22.2202778),
TMW = c(     "Tai Miu Wan", 114.2886111, 22.2697222),
TAO = c(           "Tai O", 113.8655556, 22.2550000),
TPK = c(      "Tai Po Kau", 114.1838889, 22.4425000),
TBT = c(   "Tsim Bei Tsui", 114.0141667, 22.4872222),
WAG = c(   "Waglan Island", 114.3027778, 22.1830556))
data2 = t(data) %>%
as.data.frame() %>%
dplyr::mutate(name = rownames(.)) %>%
dplyr::rename(full_name = V1,
Lon = V2,
Lat = V3) %>%
tibble::as_tibble() %>%
dplyr::mutate(Lon = as.numeric(Lon),
Lat = as.numeric(Lat)) %>%
dplyr::relocate(name, full_name, Lon, Lat)
return(data2)
}
hk_dict_tide()
library(weather2)
weather2::hk_dict_tide
weather2::hk_dict_tide()
weather2::hk_dict_tide()$name
c(1, 2, 3) %in% c(1,2,4)
is.integer(2021)
is.integer(2021)
is.integer(2021L)
is.integer(2021L:2025L)
is.integer((2021L:2025L))
library(weather2)
library(weather2)
